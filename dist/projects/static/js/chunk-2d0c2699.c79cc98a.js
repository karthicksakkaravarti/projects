(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c2699"],{"49ca":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("Button",{staticClass:"mt-0 mr-2",attrs:{outlined:!0,rounded:!0,mdi_icon:"mdi-plus",click:"OpenDrawerOnClick",title:"Create ",tooltip:"Create",options:{ShowAppBarOnDrawer:!0,DrawerSize:"30%",DrawerFormType:"documents",DrawerFormTitle:"Create",DrawerAddons:"/addons/apps/documents/api/documents",DrawerFormAPICall:!0,DrawerFilterForm:!1,DrawerMutation:"mutation__drawer",DrawerExtraParam:"&project="+t.pid,DrawerActionType:"new",DrawerFormSubmit:{btn_name:"Create Document",store_action_name:"DocumentsStore/CREATE_DOCUMENT",custom_action:"",data:""}}}}),n("v-btn",{staticClass:"ml-2",attrs:{rounded:"",outlined:"",small:"",color:"primary"},on:{click:t.fetchDocuments}},[n("v-icon",[t._v("mdi-refresh")])],1),n("div",{staticClass:"mt-2"},[n("v-list",[t._l(t.documents,(function(e){return n("v-list-item",{key:e.id},[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.title)+" "),n("v-chip",{attrs:{small:""}},[t._v("# "+t._s(e.category))])],1),n("v-list-item-subtitle",[t._v("By "+t._s(e.created_by)+" on "+t._s(t.formatDate(e.created_at)))])],1),n("v-list-actions",[n("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(n){return t.viewDocument(e.id)}}},[n("v-icon",[t._v("mdi-eye")])],1),n("v-btn",{attrs:{color:"error",icon:""},on:{click:function(n){return t.deleteDocument(e.id)}}},[n("v-icon",[t._v("mdi-delete")])],1)],1)],1)})),0===t.documents.length?n("v-list-item",[n("v-list-item-title",[t._v("No documents found")])],1):t._e()],2)],1)],1)},o=[],c=n("1da1"),i=(n("96cf"),n("4360")),a=n("88fa"),s=n("56d7"),u={data:function(){return{documents:[]}},mixins:[a["a"]],props:{pid:{type:String,required:!1}},methods:{fetchDocuments:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{i["a"].dispatch("DocumentsStore/GET_DOCUMENTS","?project=".concat(t.pid)).then((function(e){t.documents=e.data.results})).catch((function(t){console.error(t)}))}catch(n){console.error("Error fetching documents:",n)}case 1:case"end":return e.stop()}}),e)})))()},deleteDocument:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i["a"].dispatch("DocumentsStore/DELETE_DOCUMENT",t).then((function(t){e.fetchDocuments()})).catch((function(t){console.error(t)}));case 1:case"end":return n.stop()}}),n)})))()},viewDocument:function(t){this.$router.push({name:"document",params:{id:t}})},formatDate:function(t){var e=new Date(t);return e.toLocaleDateString()+" "+e.toLocaleTimeString()}},created:function(){var t=this;this.fetchDocuments(),s["bus"].$on("form_success",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(e,n,r),t.$store.dispatch("CloseDrawer"),t.fetchDocuments()}))}},m=u,l=n("2877"),d=n("6544"),p=n.n(d),v=n("8336"),f=n("cc20"),h=n("a523"),D=n("132d"),w=n("8860"),_=n("da13"),C=n("5d23"),b=Object(l["a"])(m,r,o,!1,null,null,null);e["default"]=b.exports;p()(b,{VBtn:v["a"],VChip:f["a"],VContainer:h["a"],VIcon:D["a"],VList:w["a"],VListItem:_["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"]})}}]);
//# sourceMappingURL=chunk-2d0c2699.c79cc98a.js.map