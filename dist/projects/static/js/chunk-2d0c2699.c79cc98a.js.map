{"version":3,"sources":["webpack:///./addons/apps/documents/frontend/views/Documents.vue?33a2","webpack:///addons/apps/documents/frontend/views/Documents.vue","webpack:///./addons/apps/documents/frontend/views/Documents.vue?8e8a","webpack:///./addons/apps/documents/frontend/views/Documents.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ShowAppBarOnDrawer","DrawerSize","DrawerFormType","DrawerFormTitle","DrawerAddons","DrawerFormAPICall","DrawerFilterForm","DrawerMutation","DrawerExtraParam","pid","DrawerActionType","DrawerFormSubmit","btn_name","store_action_name","custom_action","data","on","fetchDocuments","_v","_l","doc","key","id","_s","title","category","created_by","formatDate","created_at","$event","viewDocument","deleteDocument","documents","length","_e","staticRenderFns","component","VBtn","VChip","VContainer","VIcon","VList","VListItem","VListItemContent","VListItemSubtitle","VListItemTitle"],"mappings":"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","file":"projects/static/js/chunk-2d0c2699.c79cc98a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('Button',{staticClass:\"mt-0 mr-2\",attrs:{\"outlined\":true,\"rounded\":true,\"mdi_icon\":\"mdi-plus\",\"click\":\"OpenDrawerOnClick\",\"title\":\"Create \",\"tooltip\":\"Create\",\"options\":{\n            ShowAppBarOnDrawer: true,\n            DrawerSize: '30%',\n            DrawerFormType: 'documents',\n            DrawerFormTitle: 'Create',\n            DrawerAddons: '/addons/apps/documents/api/documents',\n            DrawerFormAPICall: true,\n            DrawerFilterForm: false,\n            DrawerMutation: 'mutation__drawer',\n            DrawerExtraParam: (\"&project=\" + _vm.pid),\n            DrawerActionType: 'new',\n            DrawerFormSubmit: {\n                btn_name: 'Create Document',\n                store_action_name: 'DocumentsStore/CREATE_DOCUMENT',\n                custom_action: '',\n                data: '',\n            },\n        }}}),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"rounded\":\"\",\"outlined\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.fetchDocuments}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1),_c('div',{staticClass:\"mt-2\"},[_c('v-list',[_vm._l((_vm.documents),function(doc){return _c('v-list-item',{key:doc.id},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(doc.title)+\" \"),_c('v-chip',{attrs:{\"small\":\"\"}},[_vm._v(\"# \"+_vm._s(doc.category))])],1),_c('v-list-item-subtitle',[_vm._v(\"By \"+_vm._s(doc.created_by)+\" on \"+_vm._s(_vm.formatDate(doc.created_at)))])],1),_c('v-list-actions',[_c('v-btn',{attrs:{\"color\":\"primary\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.viewDocument(doc.id)}}},[_c('v-icon',[_vm._v(\"mdi-eye\")])],1),_c('v-btn',{attrs:{\"color\":\"error\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteDocument(doc.id)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1)],1)}),(_vm.documents.length === 0)?_c('v-list-item',[_c('v-list-item-title',[_vm._v(\"No documents found\")])],1):_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- src/views/Documents.vue -->\n\n<template>\n    <v-container>\n        <Button class=\"mt-0 mr-2\" :outlined=\"true\" :rounded=\"true\" mdi_icon=\"mdi-plus\" click=\"OpenDrawerOnClick\"\n            title=\"Create \" tooltip=\"Create\" :options=\"{\n                ShowAppBarOnDrawer: true,\n                DrawerSize: '30%',\n                DrawerFormType: 'documents',\n                DrawerFormTitle: 'Create',\n                DrawerAddons: '/addons/apps/documents/api/documents',\n                DrawerFormAPICall: true,\n                DrawerFilterForm: false,\n                DrawerMutation: 'mutation__drawer',\n                DrawerExtraParam: `&project=${pid}`,\n                DrawerActionType: 'new',\n                DrawerFormSubmit: {\n                    btn_name: 'Create Document',\n                    store_action_name: 'DocumentsStore/CREATE_DOCUMENT',\n                    custom_action: '',\n                    data: '',\n                },\n            }\" />\n                    <v-btn  rounded outlined small color=\"primary\" class=\"ml-2\" @click=\"fetchDocuments\"><v-icon>mdi-refresh</v-icon></v-btn>\n\n        <div class=\"mt-2\">\n            <v-list>\n                <v-list-item v-for=\"doc in documents\" :key=\"doc.id\">\n                    <v-list-item-content>\n                        <v-list-item-title>{{ doc.title }}                         <v-chip small># {{ doc.category }}</v-chip>                        </v-list-item-title>\n                        <v-list-item-subtitle>By {{ doc.created_by }} on {{ formatDate(doc.created_at)\n                            }}</v-list-item-subtitle>\n                            \n                    </v-list-item-content>\n                    <!-- Acvvtion delete -->\n                    <v-list-actions>\n                        <!-- View -->\n                        <v-btn color=\"primary\" icon @click=\"viewDocument(doc.id)\">\n                            <v-icon>mdi-eye</v-icon>\n                        </v-btn>\n                        <!-- Delete -->\n                        <v-btn color=\"error\" icon @click=\"deleteDocument(doc.id)\">\n                            <v-icon>mdi-delete</v-icon>\n                    </v-btn>\n                 </v-list-actions>\n                </v-list-item>\n                <!-- If no documents -->\n                <v-list-item v-if=\"documents.length === 0\">\n                    <v-list-item-title>No documents found</v-list-item-title>\n                </v-list-item>\n            </v-list>\n        </div>\n\n    </v-container>\n</template>\n\n<script>\nimport store from '@/store'\nimport { ModuleImport } from '@/mixins/ModuleImport'\nimport { bus } from '@/main'\n\nexport default {\n    data() {\n        return {\n            documents: [],\n        };\n    },\n    mixins: [ModuleImport],\n    props: {\n        pid: {\n            type: String,\n            required: false\n        }\n    },\n    methods: {\n        async fetchDocuments() {\n            try {\n                store\n                    .dispatch('DocumentsStore/GET_DOCUMENTS', `?project=${this.pid}`)\n                    .then(data => {\n                        this.documents = data.data.results\n                    })\n                    .catch(err => {\n                        console.error(err)\n                    })\n\n            } catch (error) {\n                console.error('Error fetching documents:', error);\n                // Handle error (e.g., redirect to login)\n            }\n        },\n        async deleteDocument(id) {\n            store.dispatch('DocumentsStore/DELETE_DOCUMENT', id)\n            .then(data => {\n                this.fetchDocuments()\n            })\n            .catch(err => {\n                console.error(err)\n            })\n        },\n        viewDocument(id) {\n            this.$router.push({ name: 'document', params: { id } });\n        },\n        formatDate(dateStr) {\n            const date = new Date(dateStr);\n            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();\n        },\n    },\n    created() {\n        this.fetchDocuments();\n        bus.$on('form_success', (response, form_name, form_type = null) => {\n            console.log(response, form_name, form_type)\n            this.$store.dispatch('CloseDrawer')\n\n            this.fetchDocuments()\n        })\n    },\n};\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Documents.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Documents.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Documents.vue?vue&type=template&id=14bcdb67&\"\nimport script from \"./Documents.vue?vue&type=script&lang=js&\"\nexport * from \"./Documents.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VChip,VContainer,VIcon,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle})\n"],"sourceRoot":""}