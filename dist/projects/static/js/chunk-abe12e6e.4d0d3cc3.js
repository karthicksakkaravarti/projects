(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-abe12e6e"],{"13e0":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[t.repo.id?a("v-row",{staticClass:"px-4 py-2 align-center",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"d-flex align-center"},[a("div",[a("v-select",{attrs:{items:t.projects,"item-text":"name","item-value":"id",label:"Repository","hide-details":"",dense:""},on:{change:t.loadRepository},model:{value:t.selectedProject,callback:function(e){t.selectedProject=e},expression:"selectedProject"}})],1),t.repo.id?t._e():a("v-btn",{staticClass:"ml-2",attrs:{small:"",color:"primary"},on:{click:t.openCreateRepoDrawer}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-plus")]),t._v(" Create Repo ")],1),a("div",{staticClass:"ml-2"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-source-repository")]),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.repoOwner)+" / "+t._s(t.repoName))]),a("v-chip",{staticClass:"ml-2",attrs:{"x-small":"",label:""}},[t._v(t._s(t.repoVisibility))]),a("v-btn",{attrs:{icon:""},on:{click:t.defaultFetch}},[a("v-icon",[t._v("mdi-refresh")])],1)],1)],1)]),a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"mr-2",attrs:{small:"",text:"",disabled:""}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-rss")]),t._v(" Watch "),a("v-chip",{staticClass:"ml-1",attrs:{"x-small":""}},[t._v(t._s(t.watchCount))])],1),a("v-btn",{staticClass:"mr-2",attrs:{small:"",text:"",disabled:""}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-star-outline")]),t._v(" Star "),a("v-chip",{staticClass:"ml-1",attrs:{"x-small":""}},[t._v(t._s(t.starCount))])],1),a("v-btn",{attrs:{small:"",text:"",disabled:""}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-source-fork")]),t._v(" Fork "),a("v-chip",{staticClass:"ml-1",attrs:{"x-small":""}},[t._v(t._s(t.forkCount))])],1)],1)],1):t._e(),t.repo.id?[a("v-tabs",{attrs:{elevation:"0"}},[a("v-tab",[a("v-icon",{attrs:{left:""}},[t._v("mdi-code-tags")]),t._v(" Code ")],1),a("v-spacer"),a("v-btn",{staticClass:"align-self-center mr-4",attrs:{icon:""}},[a("v-icon",[t._v("mdi-cog")])],1)],1),a("v-card",{staticClass:"pa-4",attrs:{flat:""}},[a("div",{staticClass:"text-subtitle-2 mb-2"},[t._v(t._s(t.repoDescription))]),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"3"}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-source-commit")]),a("span",{staticClass:"text-caption"},[t._v(t._s(t.commitCount)+" Commits")])],1),a("v-col",{attrs:{cols:"3"}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-source-branch")]),a("span",{staticClass:"text-caption"},[t._v(t._s(t.branchCount)+" Branches")])],1),a("v-col",{attrs:{cols:"3"}},[a("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-tag")]),a("span",{staticClass:"text-caption"},[t._v(t._s(t.tagCount)+" Tags")])],1),a("v-col",{staticClass:"text-right",attrs:{cols:"3"}},[a("span",{staticClass:"text-caption"},[t._v(t._s(t.repoSize))])])],1)],1),a("v-card",{staticClass:"pa-4",attrs:{flat:""}},[a("v-row",{staticClass:"mb-4",attrs:{"no-gutters":"",align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-select",{staticClass:"branch-select",attrs:{items:t.branches,label:"Branch",dense:"",outlined:"","hide-details":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.cloneMethod,callback:function(e){t.cloneMethod=e},expression:"cloneMethod"}},[a("v-btn",{attrs:{small:"",value:"clone_url"}},[t._v("HTTPS")]),a("v-btn",{attrs:{small:"",value:"ssh_url"}},[t._v("SSH")])],1)],1),a("v-col",{staticClass:"ml-2",attrs:{cols:"auto"}},[a("v-text-field",{attrs:{value:"clone_url"==t.cloneMethod?t.repo.clone_url:t.repo.ssh_url,"append-icon":"mdi-content-copy",readonly:"",dense:"",outlined:"","hide-details":""}})],1),a("v-col",{staticClass:"ml-2",attrs:{cols:"auto"}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-dots-horizontal")])],1)],1)],1),t.isLoadingFiles?a("v-skeleton-loader",{attrs:{type:"table"}}):a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Last commit")]),a("th",{staticClass:"text-left"},[t._v("Commit time")])])]),a("tbody",t._l(t.files,(function(e){return a("tr",{key:e.name},[a("td",[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-file-document-outline")]),t._v(" "+t._s(e.name)+" ")],1),a("td",[t._v(t._s(e.last_commit_message))]),a("td",[t._v(t._s(e.last_commit_time))])])})),0)]},proxy:!0}])})],1)]:a("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"400"}},[a("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:"/path/to/repository-image.jpg"}},[a("v-card-title",[t._v("No Repository Found")])],1),a("v-card-subtitle",{staticClass:"pb-0"},[t._v(" It looks like there's no repository here yet. ")]),a("v-card-text",{staticClass:"text--primary"},[a("div",[t._v("Create a new repository to get started with your project.")]),a("div",[t._v("You can store your code, track changes, and collaborate with others.")])]),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.openCreateRepoDrawer}},[t._v(" Create Repository ")]),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:t.showRepositoryTutorial}},[t._v(" Learn More ")])],1)],1),a("v-overlay",{attrs:{value:t.isLoading,absolute:""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},s=[],n=a("5530"),i=a("1da1"),o=(a("b0c0"),a("a4d3"),a("e01a"),a("b680"),a("d81d"),a("99af"),a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("7db0"),a("96cf"),a("56d7")),c={props:{pid:{type:String,required:!1}},data:function(){return{selectedProject:null,repo:{},projects:[],repoOwner:"",repoName:"",repoVisibility:"",repoDescription:"",watchCount:0,starCount:0,forkCount:0,commitCount:0,branchCount:0,tagCount:0,repoSize:"",selectedBranch:"",branches:[],cloneMethod:0,files:[],readmeContent:"",isLoading:!1,isLoadingFiles:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.defaultFetch();case 2:o["bus"].$on("form_success",(function(e,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log(e,a,r),t.$store.dispatch("CloseDrawer"),t.fetchProjects()}));case 3:case"end":return e.stop()}}),e)})))()},methods:{defaultFetch:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.fetchProjects();case 4:return e.prev=4,t.isLoading=!1,e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})))()},fetchProjects:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.$store.dispatch("RepositoriesStore/GET_repositories","?project=".concat(t.pid?t.pid:""));case 4:if(a=e.sent,t.projects=a.data.results,!(t.projects.length>0)){e.next=10;break}return t.selectedProject=t.projects[0].id,e.next=10,t.loadRepository();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.error("Error fetching projects:",e.t0);case 15:return e.prev=15,t.isLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})))()},loadRepository:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,e.prev=1,!t.selectedProject){e.next=12;break}return e.next=5,t.fetchRepositoryData();case 5:if(!t.repo.id){e.next=12;break}return e.next=8,t.fetchBranches();case 8:return e.next=10,t.fetchCommits();case 10:return e.next=12,t.fetchContents();case 12:return e.prev=12,t.isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,,12,15]])})))()},fetchCommits:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.$store.dispatch("RepositoriesStore/GET_repositories","".concat(t.selectedProject,"/commits/"));case 4:a=e.sent,t.commits=a.data,t.commitCount=t.commits.length;case 7:return e.prev=7,t.isLoading=!1,e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})))()},fetchRepositoryData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.$store.dispatch("RepositoriesStore/GET_repositories","".concat(t.selectedProject,"/details/"));case 4:a=e.sent,r=a.data.repository,t.repo=r,t.repoOwner=r.owner.login,t.repoName=r.name,t.repoVisibility=r.private?"Private":"Public",t.repoDescription=r.description,t.watchCount=r.watchers_count,t.starCount=r.stars_count,t.forkCount=r.forks_count,t.commitCount=r.default_branch_commit_count||0,t.tagCount=r.release_counter||0,t.repoSize="".concat((r.size/1024).toFixed(2)," KiB"),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](1),console.error("Error fetching repository data:",e.t0);case 22:return e.prev=22,t.isLoading=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,19,22,25]])})))()},fetchBranches:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.prev=1,e.next=4,t.$store.dispatch("RepositoriesStore/GET_repositories","".concat(t.selectedProject,"/branches/"));case 4:a=e.sent,t.branches=a.data.map((function(t){return t.name})),t.branchCount=t.branches.length,t.selectedBranch=t.branches[0]||"",e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.error("Error fetching branches:",e.t0);case 13:return e.prev=13,t.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))()},fetchContents:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoadingFiles=!0,e.prev=1,e.next=4,t.$store.dispatch("RepositoriesStore/GET_repositories","".concat(t.selectedProject,"/contents/?ref=").concat(t.selectedBranch));case 4:return a=e.sent,r=a.data.filter((function(t){return"file"===t.type})),e.next=8,Promise.all(r.map(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("RepositoriesStore/GET_repositories","".concat(t.selectedProject,"/commits/?path=").concat(a.path,"&per_page=1"));case 2:return r=e.sent,s=r.data[0],e.abrupt("return",Object(n["a"])(Object(n["a"])({},a),{},{last_commit_message:s?s.commit.message:"",last_commit_time:s?new Date(s.commit.author.date).toLocaleString():""}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:if(s=e.sent,t.files=s,o=t.files.find((function(t){return"readme.md"===t.name.toLowerCase()})),!o){e.next=16;break}return e.next=14,t.$store.dispatch(o.download_url);case 14:c=e.sent,t.readmeContent=c.data;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](1),console.error("Error fetching contents:",e.t0);case 21:return e.prev=21,t.isLoadingFiles=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})))()},openCreateRepoDrawer:function(){console.log("openCreateRepoDrawer"),this.$store.dispatch("OpenDrawerOnClick",{ShowAppBarOnDrawer:!0,DrawerSize:"30%",DrawerFormType:"repo_form",DrawerFormTitle:"Create Repo",DrawerAddons:"/addons/apps/repositories/api/repositories",DrawerFormAPICall:!0,DrawerFilterForm:!1,DrawerMutation:"mutation__drawer",DrawerExtraParam:"&project=".concat(this.pid?this.pid:""),DrawerActionType:"new",DrawerFormSubmit:{btn_name:"Create Repo",store_action_name:"RepositoriesStore/CREATE_repositories",custom_action:"",data:""}})},showRepositoryTutorial:function(){console.log("Show repository tutorial")}}},l=c,d=(a("f789"),a("2877")),u=a("6544"),p=a.n(u),h=a("8336"),v=a("a609"),m=a("b0af"),f=a("99d9"),g=a("cc20"),b=a("62ad"),_=a("a523"),C=a("132d"),x=a("adda"),w=a("a797"),y=a("490a"),k=a("0fd9"),S=a("b974"),j=a("1f4f"),R=a("3835"),L=(a("ac1f"),a("1276"),a("a630"),a("5319"),a("1f09"),a("c995")),O=a("24b2"),B=a("7560"),V=a("58df"),T=a("80d2"),D=Object(V["a"])(L["a"],O["a"],B["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(n["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(n["a"])(Object(n["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(n["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},e)},genBones:function(t){var e=this,a=t.split("@"),r=Object(R["a"])(a,2),s=r[0],n=r[1],i=function(){return e.genStructure(s)};return Array.from({length:n}).map(i)},genStructure:function(t){var e=[];t=t||this.type||"";var a=this.rootTypes[t]||"";if(t===a);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);a.indexOf(",")>-1?e=this.mapBones(a):a.indexOf("@")>-1?e=this.genBones(a):a&&e.push(this.genStructure(a))}return[this.genBone(t,e)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(T["t"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}}),P=a("2fa4"),E=a("71a3"),F=a("fe57"),$=a("8654"),z=Object(d["a"])(l,r,s,!1,null,"3556625c",null);e["default"]=z.exports;p()(z,{VBtn:h["a"],VBtnToggle:v["a"],VCard:m["a"],VCardActions:f["a"],VCardSubtitle:f["b"],VCardText:f["c"],VCardTitle:f["d"],VChip:g["a"],VCol:b["a"],VContainer:_["a"],VIcon:C["a"],VImg:x["a"],VOverlay:w["a"],VProgressCircular:y["a"],VRow:k["a"],VSelect:S["a"],VSimpleTable:j["a"],VSkeletonLoader:D,VSpacer:P["a"],VTab:E["a"],VTabs:F["a"],VTextField:$["a"]})},"1f09":function(t,e,a){},"5aa8":function(t,e,a){},f789:function(t,e,a){"use strict";a("5aa8")}}]);
//# sourceMappingURL=chunk-abe12e6e.4d0d3cc3.js.map